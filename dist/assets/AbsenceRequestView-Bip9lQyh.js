import{c as C,r as d,x as P,b as T,s as t,f as S,m as N,n as l,p as e,u as r,i as v,h,I as D,J as M,g as j}from"./index-BaQHJua5.js";const H=h("span",{class:"text-2xl font-bold text-[var(--secondary-color)]"},"Solicitar Ausencia",-1),I=h("div",{class:"el-upload__tip"},null,-1),J=C({__name:"AbsenceRequestForm",setup(q){const m=d("default"),p=d(),{AbsenceRequestForm:n,CreateAbsenceRequest:g}=P(),u=d(!1),y=T({from:[{type:"date",required:!0,message:"Por favor selecciona una fecha",trigger:"change"}],to:[{type:"date",required:!0,message:"Por favor selecciona una fecha",trigger:"change"}],type:[{required:!0,message:"Por favor selecciona un tipo de ausencia",trigger:"change"}],comment:[{required:!0,message:"Por favor ingrese un comentario",trigger:"blur"}]}),i=async a=>{if(a)try{u.value=!0,console.log("Entra: "+u.value),await a.validate()&&await g()}catch(o){console.error("Error en la solicitud:",o)}finally{u.value=!1,console.log("Sale: "+u.value)}},_=a=>{a&&a.resetFields()},f=d([]),b=(a,o)=>{console.log(a,o)},A=a=>{console.log(a)},F=(a,o)=>{D.warning(`The limit is 3, you selected ${a.length} files this time, add up to ${a.length+o.length} totally`)},R=(a,o)=>M.confirm(`Cancel the transfer of ${a.name} ?`).then(()=>!0,()=>!1);return(a,o)=>{const w=t("el-date-picker"),c=t("el-form-item"),x=t("el-col"),U=t("el-row"),k=t("el-option"),z=t("el-select"),$=t("el-input"),V=t("el-button"),B=t("el-upload"),E=t("el-form"),L=t("el-card");return S(),N(L,null,{default:l(()=>[H,e(E,{"label-position":"top",ref_key:"ruleFormRef",ref:p,style:{"max-width":"600px"},model:r(n),rules:y,"label-width":"auto",class:"mt-6",size:m.value,"status-icon":""},{default:l(()=>[e(U,{gutter:12},{default:l(()=>[e(x,{span:12},{default:l(()=>[e(c,{label:"Desde",prop:"from"},{default:l(()=>[e(w,{modelValue:r(n).from,"onUpdate:modelValue":o[0]||(o[0]=s=>r(n).from=s),type:"date","aria-label":"Selecciona una fecha",placeholder:"Selecciona una fecha",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(x,{span:12},{default:l(()=>[e(c,{label:"Hasta",prop:"to"},{default:l(()=>[e(w,{modelValue:r(n).to,"onUpdate:modelValue":o[1]||(o[1]=s=>r(n).to=s),type:"date","aria-label":"Selecciona una fecha",placeholder:"Selecciona una fecha",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(c,{label:"Tipo de ausencia",prop:"type"},{default:l(()=>[e(z,{modelValue:r(n).type,"onUpdate:modelValue":o[2]||(o[2]=s=>r(n).type=s),placeholder:"Tipo de ausencia"},{default:l(()=>[e(k,{label:"Vacaciones",value:"1"}),e(k,{label:"Cita medica",value:"2"})]),_:1},8,["modelValue"])]),_:1}),e(c,{label:"Comentario",prop:"comment"},{default:l(()=>[e($,{modelValue:r(n).comment,"onUpdate:modelValue":o[3]||(o[3]=s=>r(n).comment=s),type:"textarea"},null,8,["modelValue"])]),_:1}),e(c,null,{default:l(()=>[e(B,{"file-list":f.value,"onUpdate:fileList":o[4]||(o[4]=s=>f.value=s),class:"upload-demo",action:"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15",multiple:"","on-preview":A,"on-remove":b,"before-remove":R,limit:3,"on-exceed":F},{tip:l(()=>[I]),default:l(()=>[e(V,{type:"primary"},{default:l(()=>[v("Adjuntar evidencia")]),_:1})]),_:1},8,["file-list"])]),_:1}),e(c,null,{default:l(()=>[e(V,{loading:u.value,class:"mt-6",size:"large",color:"var(--secondary-color)",round:"",onClick:o[5]||(o[5]=s=>i(p.value))},{default:l(()=>[v(" Enviar Solicitud ")]),_:1},8,["loading"]),e(V,{class:"mt-6",size:"large",onClick:o[6]||(o[6]=s=>_(p.value)),round:""},{default:l(()=>[v(" Cancelar ")]),_:1})]),_:1})]),_:1},8,["model","rules","size"])]),_:1})}}}),K=C({__name:"AbsenceRequestView",setup(q){const m=d(new Date);return(p,n)=>{const g=t("ArrowLeft"),u=t("el-icon"),y=t("el-link"),i=t("el-col"),_=t("el-row"),f=t("el-calendar");return S(),j("main",null,[e(_,null,{default:l(()=>[e(i,{span:24},{default:l(()=>[e(y,null,{default:l(()=>[e(u,{size:20},{default:l(()=>[e(g)]),_:1}),v(" Volver ")]),_:1})]),_:1})]),_:1}),e(_,{gutter:30,class:"my-4"},{default:l(()=>[e(i,{span:12},{default:l(()=>[e(J)]),_:1}),e(i,{span:12},{default:l(()=>[h("div",null,[e(f,{modelValue:m.value,"onUpdate:modelValue":n[0]||(n[0]=b=>m.value=b)},null,8,["modelValue"])])]),_:1})]),_:1})])}}});export{K as default};
